# Test

## Service Environment Configuration

| Name | Type | Required | Default | Environment Variable |
| ---- | ---- | -------- | ------- | -------------------- |
| `loglevel` | STRING | no | `info` | `LOGLEVEL` |
| `timestamps` | BOOLEAN | no | (none) | `LOG_TIMESTAMPS` |
| `name` | STRING | yes | (none) | `NAME` |
| `db_pool_max` | NUMBER | no | `50` | `DB_POOL_MAX` |
| `db_pool_min` | NUMBER | no | `2` | `DB_POOL_MIN` |
| `db_pool_idle_timeout` | NUMBER | no | `10000` | `DB_POOL_IDLE_TIMEOUT` |

## API

- [List Organzations](#list-organzations)
- [Create organization](#create-organization)
- [Create Department](#create-department)
- [Health Check](#health-check)


### List Organzations

Gets all organizations

    GET /organization

#### Parameters

| Name | Type | Description |
| ---- | ---- | ----------- |
| `id` | `uuid (v4)` | id |
| `role` | `enum ["admin", "manager", "agent"]` | The user's role |

**Note:** Input Note

#### Response

```headers
Status: 200 OK
```

```json
[
  {
    "id": "5eae86ea-1913-49cd-b7d1-c7e28d0197e6"
  }
]
```


**Note:** Output Note

***

### Create organization

Gets all organizations

    POST /organization

#### Input

| Name | Type | Description |
| ---- | ---- | ----------- |
| `id` | `uuid (v4)` | id |

**Note:** Input Note

#### Response

```headers
Status: 200 OK
```

```json
{
  "id": "5eae86ea-1913-49cd-b7d1-c7e28d0197e6"
}
```


**Note:** Output Note

***

### Create Department

Creates a department

    POST /department

#### Response

```headers
Status: 200 OK
```

```json
{
  "id": "5eae86ea-1913-49cd-b7d1-c7e28d0197e6"
}
```


**Note:** Output Note

***

### Health Check

Return status of parent service

    GET /health_check

#### Response

```headers
Status: 200 OK
```

```json
{
  "name": "helpdotcom-service"
}
```


***
